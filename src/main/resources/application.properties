spring.application.name=biblioteca-api
server.servlet.context-path=/api/v1

# ==============================================================
# CONFIGURACIÓN DE BASE DE DATOS
# Los valores se toman de las variables de entorno del sistema
# ==============================================================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ==============================================================
# JPA / HIBERNATE
# ==============================================================
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# ==============================================================
# INICIALIZACIÓN DE DATOS
# Se recomienda 'never' para producción.
# Usar 'always' solo en desarrollo local si se necesita reiniciar datos.
# ==============================================================
spring.sql.init.mode=never
spring.sql.init.data-locations=classpath:data-test.sql

# ==============================================================
# OPENAPI / SWAGGER
# ==============================================================
# URL base para la documentación (ej: http://localhost:8080/api/v1)
biblioteca-api.openapi.dev-url=${OPENAPI_DEV_URL}

# ==============================================================
# ALMACENAMIENTO DE ARCHIVOS
# ==============================================================
storage.location=${STORAGE_LOCATION:mediafiles}
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# ==============================================================
# SEGURIDAD JWT
# ==============================================================
# La clave secreta debe ser compleja y larga. NO subir valor real al repo.
jwt.secret=${JWT_SECRET}
# Tiempo de validez (Por defecto 30 días: 2592000)
jwt.validity-in-seconds=${JWT_EXPIRATION:2592000}